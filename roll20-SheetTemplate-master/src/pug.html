<input name="attr_version" type="hidden" value="2"/><input class="type" name="attr_sheet_type" type="hidden" value="character"/><input class="display_string" name="attr_character_settings" type="hidden" value=""/><div class="npc"><div class="box npc-flex"><p>NPC STUFF</p></div><div class="box npc-flex"><p>MORE NPC STUFF </p></div></div><div class="pc"><div class="container grid navigation"><img alt="Emerald Grid" src="https://raw.githubusercontent.com/clevett/SheetTemplate/master/src/imgs/EProd_Title_Gloss.png"/><label class="pseudo-button" data-i18n-title="sheet type: core"><input name="attr_sheet_type" title="@{sheet_type}" type="radio" value="core" selected="selected"/><span class="eclipse">core</span></label><label class="pseudo-button" data-i18n-title="sheet type: arms"><input name="attr_sheet_type" title="@{sheet_type}" type="radio" value="arms"/><span class="eclipse">arms</span></label><label class="pseudo-button" data-i18n-title="sheet type: advancement"><input name="attr_sheet_type" title="@{sheet_type}" type="radio" value="advancement"/><span class="eclipse">advancement</span></label></div><div class="container grid info"><div class="rowx grid 4autocolumn"><h1 data-i18n="character name"></h1><label data-i18n-title="enter character name" title="enter character name"><input data-i18n-placeholder="character name" name="attr_character_name" placeholder="character name" title="@{character_name}" type="text" value=""/></label><h1 data-i18n="player name"></h1><label data-i18n-title="enter player name" title="enter player name"><input data-i18n-placeholder="player name" name="attr_player_name" placeholder="player name" title="@{player_name}" type="text" value=""/></label></div></div><div class="container grid characteristics"><div class="rowx text-center"><h1 data-i18n="characteristics"></h1></div><div class="rowx grid 5column"><div class="col grid"><div class="rowx text-center"><h2 class="small-caps" data-i18n="strength"></h2></div></div><div class="col grid"><div class="rowx text-center"><h2 class="small-caps" data-i18n="dexterity"></h2></div></div><div class="col grid"><div class="rowx text-center"><h2 class="small-caps" data-i18n="intelligence"></h2></div></div><div class="col grid"><div class="rowx text-center"><h2 class="small-caps" data-i18n="wisdom"></h2></div></div><div class="col grid"><div class="rowx text-center"><h2 class="small-caps" data-i18n="charisma"></h2></div></div></div><div class="rowx grid 5column"><div class="col"><label data-i18n-title="enter strength" title="enter strength"><input name="attr_strength" title="@{strength}" type="number" value=""/></label></div><div class="col"><label data-i18n-title="enter dexterity" title="enter dexterity"><input name="attr_dexterity" title="@{dexterity}" type="number" value=""/></label></div><div class="col"><label data-i18n-title="enter intelligence" title="enter intelligence"><input name="attr_intelligence" title="@{intelligence}" type="number" value=""/></label></div><div class="col"><label data-i18n-title="enter wisdom" title="enter wisdom"><input name="attr_wisdom" title="@{wisdom}" type="number" value=""/></label></div><div class="col"><label data-i18n-title="enter charisma" title="enter charisma"><input name="attr_charisma" title="@{charisma}" type="number" value=""/></label></div></div></div><div class="skill-traits"><div class="col inline-block"><div class="rowx"><h1 class="text-center" data-i18n="skills"></h1></div><div class="rowx grid 3columnbutton"><h2 data-i18n="acrobatics"></h2><label data-i18n-title="enter acrobatics" title="enter acrobatics"><input name="attr_acrobatics" title="@{acrobatics}" type="number" value=""/></label><button class="d20" name="" type="roll" value="">b</button></div><div class="rowx grid 3columnbutton"><h2 data-i18n="athletics"></h2><label data-i18n-title="enter athletics" title="enter athletics"><input name="attr_athletics" title="@{athletics}" type="number" value=""/></label><button class="d20" name="" type="roll" value="">b</button></div><div class="rowx grid 3columnbutton"><h2 data-i18n="awareness"></h2><label data-i18n-title="enter awareness" title="enter awareness"><input name="attr_awareness" title="@{awareness}" type="number" value=""/></label><button class="d20" name="" type="roll" value="">b</button></div><div class="rowx grid 3columnbutton"><h2 data-i18n="charm"></h2><label data-i18n-title="enter charm" title="enter charm"><input name="attr_charm" title="@{charm}" type="number" value=""/></label><button class="d20" name="" type="roll" value="">b</button></div><div class="rowx grid 3columnbutton"><h2 data-i18n="command"></h2><label data-i18n-title="enter command" title="enter command"><input name="attr_command" title="@{command}" type="number" value=""/></label><button class="d20" name="" type="roll" value="">b</button></div><div class="rowx grid 3columnbutton"><h2 data-i18n="commerce"></h2><label data-i18n-title="enter commerce" title="enter commerce"><input name="attr_commerce" title="@{commerce}" type="number" value=""/></label><button class="d20" name="" type="roll" value="">b</button></div><div class="rowx grid 3columnbutton"><h2 data-i18n="intimidate"></h2><label data-i18n-title="enter intimidate" title="enter intimidate"><input name="attr_intimidate" title="@{intimidate}" type="number" value=""/></label><button class="d20" name="" type="roll" value="">b</button></div><div class="rowx grid 3columnbutton"><h2 data-i18n="logic"></h2><label data-i18n-title="enter logic" title="enter logic"><input name="attr_logic" title="@{logic}" type="number" value=""/></label><button class="d20" name="" type="roll" value="">b</button></div></div><div class="col inline-block"><div class="rowx"><h1 class="text-center" data-i18n="traits"></h1></div><div class="rowx repeating-container"><fieldset class="repeating_traits"><div class="rowx grid descriptor"><button class="text-left eclipse font-weight-bold" name="roll_button" type="roll"><span name="attr_name"></span></button><input class="toggles text-center" name="attr_collapse" title="@{collapse}" type="checkbox" value="collapse"/><span class="toggles text-center pictos">i</span><input class="toggles text-center" name="attr_settings" title="@{settings}" type="checkbox" value="settings"/><span class="toggles text-center pictos">p</span><div class="rowx collapse"><span class="collapse description" name="attr_description"></span></div><div class="rowx settings"><label data-i18n-title="enter name" title="enter name"><input data-i18n-placeholder="name" name="attr_name" placeholder="name" title="@{name}" type="text" value=""/></label><textarea name="attr_description" placeholder="description"></textarea></div></div></fieldset></div></div></div></div><div class="notes"></div><div class="options"></div><div class="footer"><span>Version  </span><span name="attr_version"></span><span>Original template created by Emerald Productions, LLC</span><img src="https://raw.githubusercontent.com/clevett/roll20-SheetTemplate/master/src/imgs/EProd_Emerald_Gloss.png" alt="Emerald Productions logo of an E"/></div><div class="rolltemplates"><rolltemplate class="sheet-rolltemplate-rolls"><div class="sheet-template-container"><!-- - Display a header on the template ---><div class="sheet-template-header">{{#header}}{{header}}{{/header}}</div><!-- - Display the dice roll in the template ---><div class="sheet-template-body">{{#dice}}<div class="sheet-template-rowx">{{dice}}</div>{{/dice}}<!-- - Display a description. This is great for text included with a roll --->{{#desc}}<div class="sheet-template-rowx"><span class="sheet-template-desc"></span></div>{{/desc}}</div></div></rolltemplate></div><script type="text/worker">//Convert Integers to be Negative
const convertIntegerNegative = number => number > 0 ? -Math.abs(number) : number

//Convert an object with negative numbers
const convertIntegersNegatives = numbers => {
  numbers => {
    for (let [key, value] of Object.entries(numbers)) {
      numbers[key] = convertIntegerNegative(value);
    }
    return numbers
  }
}

//Pass in eventinfo.triggerName
const findRepeatingField = trigger => trigger.split('_')[1]

//Pass in eventinfo.triggerName
const getReprowid = trigger => {
  const split = trigger.split('_');
  return `${split[0]}_${split[1]}_${split[2]}`
}

//Pass in an object keep that has the repeating section
//Example repeating_weapon_-m1czg68yzicwhfdpyys_name
const getReprowAttribute = key => {
  const getReprowid = processingFunctions.getReprowid(key)
  return key.split(`${getReprowid}_`)[1]
}

//Provide the function with an array of keys to find transations for 
//Example ['strenght', 'agility', 'willpower']
const getTranslations = translationKeys => {
  let translations = {}
  translationKeys.forEach(key => translations[`${key}`] = getTranslationByKey(key))
  return translations
}

const parseInteger = string => parseInt(string) || 0

//Use for convernting the result of getAttrs from strings into integers
const parseIntegers = numbers => {
  for (let [key, value] of Object.entries(numbers)) {
      numbers[key] = parseInt(value) || 0
  }
  return numbers  
}

const setAttributes = (update, silent) => silent && typeof update === 'object' ? setAttrs(update, {silent:true}) : typeof update === 'object' ? setAttrs(update) : console.error(`${update} is not an object`)

//returns strength from @{strenght}
const sliceAttr = attribute => attribute.slice(2, -1)

const sumIntegers = numbers => numbers.reduce((a,b) => a + b, 0)
</script>